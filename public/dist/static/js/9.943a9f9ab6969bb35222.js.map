{"version":3,"sources":["webpack:///src/page/linkman/newfriend.vue","webpack:///./src/page/linkman/newfriend.vue?d56c","webpack:///./src/page/linkman/newfriend.vue"],"names":["newfriend","components","hdBar","hd_bar","data","request_list","account","created","_this","this","Object","socket","then","res","console","log","exec","methods","list","map","item","fromReq","addPeople","assign_default","user","creater","isFrom","agree","acceptStatus","id","filters","linkman_newfriend","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title-name","slot","on","click","$event","$router","go","_v","push","name","_m","_l","_s","nickname","_id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"6KA4BAA,GACAC,YAAAC,MAAAC,EAAA,GACAC,KAFA,WAGA,OACAC,gBACAC,QAAA,KAGAC,QARA,WAQA,IAAAC,EAAAC,KACAC,OAAAC,EAAA,EAAAD,CAAA,oBAAAE,KAAA,SAAAC,GACAC,QAAAC,IAAAF,EAAA,QACAL,EAAAF,QAAAO,EAAAT,KAAAE,QACAE,EAAAH,aAAAG,EAAAQ,KAAAR,EAAAF,QAAAO,EAAAT,KAAAC,iBAGAY,SACAD,KADA,SACAV,EAAAY,GACA,OAAAA,EAAAC,IAAA,SAAAC,GAEA,IAAAC,EAAAD,EAAAE,UAAAhB,YACA,OAAAiB,IAAAH,GAAAI,KAAAH,EAAAD,EAAAK,QAAAL,EAAAE,UAAAI,OAAAL,OAGAM,MARA,SAQAC,EAAAC,GACA,IAAAD,GACAlB,OAAAC,EAAA,EAAAD,CAAA,eAAAmB,OAAAjB,KAAA,SAAAC,GACAC,QAAAC,IAAAF,OAKAiB,YCxDAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAxB,KAAayB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,eAAyBF,EAAA,UAAeE,YAAA,kBAAAC,OAAqCC,aAAA,SAAoBJ,EAAA,QAAaG,OAAOE,KAAA,SAAeC,IAAKC,MAAA,SAAAC,GAAyBX,EAAAY,QAAAC,IAAA,KAAoBL,KAAA,UAAcL,EAAA,QAAaE,YAAA,yBAAmCF,EAAA,QAAAH,EAAAc,GAAA,WAAAX,EAAA,OAAyCG,OAAOE,KAAA,SAAeA,KAAA,UAAcL,EAAA,QAAaM,IAAIC,MAAA,SAAAC,GAAyBX,EAAAY,QAAAG,MAAkBC,KAAA,kBAAsBhB,EAAAc,GAAA,YAAAX,EAAA,OAA+BE,YAAA,SAAmBF,EAAA,OAAYE,YAAA,kBAA4BL,EAAAiB,GAAA,GAAAd,EAAA,OAAsBE,YAAA,sCAAiDL,EAAAkB,GAAAlB,EAAA,sBAAAf,GAA0C,OAAAkB,EAAA,OAAiBE,YAAA,uCAAiDF,EAAA,OAAYE,YAAA,sBAAgCF,EAAA,OAAYE,YAAA,gCAA0CF,EAAA,OAAYE,YAAA,0BAAoCL,EAAAc,GAAAd,EAAAmB,GAAAlC,EAAAM,KAAA6B,aAAAjB,EAAA,OAAiDE,YAAA,wBAAkCL,EAAAc,GAAA,IAAAd,EAAAmB,GAAAlC,EAAAQ,OAAA,KAAAR,EAAAM,KAAA6B,SAAA,cAAAjB,EAAA,OAAmFE,YAAA,sBAAgCpB,EAAAQ,OAAAU,EAAA,OAAgGE,YAAA,SAAAI,IAAyBC,MAAA,SAAAC,GAAyBX,EAAAN,MAAAT,EAAAU,aAAAV,EAAAoC,SAAyCrB,EAAAc,GAAAd,EAAAmB,GAAA,IAAAlC,EAAAU,aAAA,eAA3LQ,EAAA,QAAAH,EAAAc,GAAAd,EAAAmB,GAAA,IAAAlC,EAAAU,aAAA,wBAAyPK,EAAAiB,GAAA,YAE10CK,iBADjB,WAAoC,IAAarB,EAAbzB,KAAa0B,eAA0BC,EAAvC3B,KAAuC4B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,0BAAoCF,EAAA,QAApH3B,KAAoHsC,GAAA,aAAgC,WAAc,IAAab,EAAbzB,KAAa0B,eAA0BC,EAAvC3B,KAAuC4B,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,wBAAkCF,EAAA,QAAlH3B,KAAkHsC,GAAA,mBCExT,IAcAS,EAdAC,EAAA,OAcAC,CACA1D,EACA+B,GATA,EAVA,SAAA4B,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/9.943a9f9ab6969bb35222.js","sourcesContent":["<template lang=\"pug\">\n  div.new-friend\n    hd-bar.messages-hd-bar( title-name=\"新朋友\" )\n      span( slot='sec-l', @click=\"$router.go(-1)\")\n        span.iconfont.icon-fanhui \n        span 联系人\n      div( slot=\"sec-r\" ) \n        span( @click=\"$router.push({name: 'addfriend'})\") 添加\n    .main \n      .friend-notice \n        .friend-notice__header \n          span 好友通知\n        .user-list.friend-notice__user-list\n          .user-list__item.user-list__item_bt( v-for='list in request_list')     \n            .user-list__avatar \n            .user-list__info.center-info \n              .center-info__nickname {{list.user.nickname}}\n              .center-info__notice  {{ list.isFrom ? '我是'+list.user.nickname: '已发送验证'}}\n            .user-list__r-info\n              span( v-if= \"!list.isFrom\") {{ list.acceptStatus === 1 ? '已同意': '等待验证' }}\n              div.ui-btn( v-else, @click=\"agree(list.acceptStatus, list._id)\") {{list.acceptStatus === 1 ? '已同意': '同意'}}\n        .friend-notice__more \n          span 更多      \n\n</template>\n<script>\nimport hdBar from '@/components/hd-bar'\nimport { socketEmit } from '@/socket/socket'\nexport default {\n  components: {hdBar},\n  data() {\n    return {\n      request_list: [],\n      account: ''\n    }\n  },\n  created() {\n    socketEmit('getFriendRequest').then(res => {\n      console.log(res, 'data')\n      this.account = res.data.account;\n      this.request_list = this.exec(this.account, res.data.request_list);\n    })\n  },\n  methods: {\n    exec(account, list) {\n      return list.map((item) => {\n        // 添加人是自己则是来自对方的\n        let fromReq = item.addPeople.account === account;\n        return Object.assign(item, { user:fromReq? item.creater: item.addPeople, isFrom: fromReq });\n      })\n    },\n    agree(acceptStatus, id) {\n      if(acceptStatus === 0) {\n        socketEmit('agreeFriend', {id: id }).then(res => {\n          console.log(res)\n        })\n      }\n    }\n  },\n  filters: {\n    \n  }\n}\n</script>\n<style lang=\"stylus\" scoped>\n  .new-friend   \n    padding-top $hd-bar-height \n  .user-list \n    background #ffffff\n    .user-list__item \n      color #bcbcbc \n      display flex\n      padding 0 .7rem \n      align-items: center\n      height 5.2rem\n      border-bottom 1px solid #f2f2f2\n    .user-list__avatar \n      width 3rem \n      height 3rem \n      border-radius 50%\n      margin-right .7rem\n      img \n        border-radius 50%\n        width 100% \n        height 100%  \n    .user-list__info \n      width 15rem \n    .user-list__r-info \n      text-align right\n      flex 1 \n      font-size .75rem\n  .friend-notice \n    .friend-notice__header\n      padding .45rem .7rem \n      color #767779 \n    .friend-notice__user-list\n      .center-info\n        .center-info__nickname\n          font-size .1rem \n          color #000\n        .center-info__notice \n          font-size .8rem \n        .center-info__origin  \n          font-size .8rem\n    .friend-notice__more  \n      color #bcbcbc \n      padding .9rem 0 \n      text-align center \n      border-bottom 1px solid #efefef\n      background-color #ffffff\n      line-height 1    \n\n      \n\n\n\n</style>\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/page/linkman/newfriend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"new-friend\"},[_c('hd-bar',{staticClass:\"messages-hd-bar\",attrs:{\"title-name\":\"新朋友\"}},[_c('span',{attrs:{\"slot\":\"sec-l\"},on:{\"click\":function($event){_vm.$router.go(-1)}},slot:\"sec-l\"},[_c('span',{staticClass:\"iconfont icon-fanhui\"}),_c('span',[_vm._v(\"联系人\")])]),_c('div',{attrs:{\"slot\":\"sec-r\"},slot:\"sec-r\"},[_c('span',{on:{\"click\":function($event){_vm.$router.push({name: 'addfriend'})}}},[_vm._v(\"添加\")])])]),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"friend-notice\"},[_vm._m(0),_c('div',{staticClass:\"user-list friend-notice__user-list\"},_vm._l((_vm.request_list),function(list){return _c('div',{staticClass:\"user-list__item user-list__item_bt\"},[_c('div',{staticClass:\"user-list__avatar\"}),_c('div',{staticClass:\"user-list__info center-info\"},[_c('div',{staticClass:\"center-info__nickname\"},[_vm._v(_vm._s(list.user.nickname))]),_c('div',{staticClass:\"center-info__notice\"},[_vm._v(\" \"+_vm._s(list.isFrom ? '我是'+list.user.nickname: '已发送验证'))])]),_c('div',{staticClass:\"user-list__r-info\"},[(!list.isFrom)?_c('span',[_vm._v(_vm._s(list.acceptStatus === 1 ? '已同意': '等待验证'))]):_c('div',{staticClass:\"ui-btn\",on:{\"click\":function($event){_vm.agree(list.acceptStatus, list._id)}}},[_vm._v(_vm._s(list.acceptStatus === 1 ? '已同意': '同意'))])])])})),_vm._m(1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"friend-notice__header\"},[_c('span',[_vm._v(\"好友通知\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"friend-notice__more\"},[_c('span',[_vm._v(\"更多      \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d405cfb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/linkman/newfriend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d405cfb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"resolve url\\\":true,\\\"import\\\":[\\\"/Users/JfS/Documents/we-chat/weChat/src/style/common.styl\\\"],\\\"paths\\\":[\\\"/Users/JfS/Documents/we-chat/weChat/src/styl/\\\"],\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./newfriend.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./newfriend.vue\"\nimport __vue_script__ from \"!!babel-loader?{\\\"plugins\\\":[[\\\"babel-plugin-transform-modules\\\",{\\\"cube-ui\\\":{\\\"transform\\\":\\\"cube-ui/src/modules/${member}\\\",\\\"kebabCase\\\":true}}]]}!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./newfriend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d405cfb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./newfriend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d405cfb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/linkman/newfriend.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}